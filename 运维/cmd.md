# cmd常用命令

### 查询端口占用和强制结束端口运行

#### 命令1：查询端口占用情况
```cmd
netstat -ano | findstr :3306
```

**详细解析：**

`netstat -ano` 命令部分：
- `netstat`：网络状态查询工具，用于显示网络连接、路由表和网络接口信息
- `-a`：显示所有活动的TCP连接以及计算机监听的TCP和UDP端口
- `-n`：以数字形式显示地址和端口号（不进行DNS解析，速度更快）
- `-o`：显示拥有每个连接的进程ID（PID）

管道符 `|`：将前一个命令的输出作为后一个命令的输入

`findstr :3306` 命令部分：
- `findstr`：Windows的字符串搜索工具（类似Linux的grep）
- `:3306`：搜索包含":3306"的行，即查找使用3306端口的连接

**输出示例：**
```
TCP    0.0.0.0:3306          0.0.0.0:0              LISTENING       6152
TCP    [::]:3306             [::]:0                 LISTENING       6152
```

输出字段说明：
- 第1列：协议类型（TCP/UDP）
- 第2列：本地地址:端口
- 第3列：远程地址:端口
- 第4列：连接状态（LISTENING表示正在监听）
- 第5列：进程ID（PID），例如6152

#### 命令2：强制终止进程
```cmd
taskkill /PID 6152 /F
```

**详细解析：**

- `taskkill`：Windows进程终止命令
- `/PID 6152`：指定要终止的进程ID为6152（这个PID通常从netstat命令的输出中获得）
- `/F`：强制终止进程（Force），会立即结束进程，不给进程保存数据或清理的机会

**注意事项：**
- 需要以管理员权限运行CMD或PowerShell
- 强制终止可能导致数据丢失，使用前请确认
- 如果不使用`/F`参数，系统会尝试正常关闭进程

**实际使用流程：**
```cmd
# 1. 查找占用3306端口的进程
netstat -ano | findstr :3306

# 2. 从输出中找到PID（假设是6152）

# 3. 强制终止该进程
taskkill /PID 6152 /F
```

**扩展命令：**
```cmd
# 根据进程名称终止
taskkill /IM mysql.exe /F

# 终止多个PID
taskkill /PID 6152 /PID 6153 /F

# 查看所有端口占用
netstat -ano

# 查看指定PID的进程信息
tasklist | findstr 6152
```